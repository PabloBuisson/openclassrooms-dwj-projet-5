{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}
{% block stylesheets %}
<link rel="stylesheet" href="{{ asset('css/home.css') }}">
{% endblock %}

{% block body %}

    {% if not app.user %}

        <h1>Bienvenue !</h1>

        <p>Blablabla</p>

    {% else %}

    {% if cards is empty and count == 0 %}
        <p>Pas de cartes aujourd'hui !</p>
    {% elseif cards is empty and count > 0 %}
        <p>Plus de cartes à travailler, bravo !</p>
    {% endif %}
    
            
        <div class="row mt-5">
            {% for card in cards %}
                {% if loop.first %}
                    <div id="card-container" class="col-8 offset-2 {% if isFirst %}active{% endif %}">
                        <article class="card-user text-center p-5">
                            <div class="row">
                                <div class="col-2 offset-10 mb-3 mt-n3 count-user"><span class="user-count">{{ due }}</span><span class="fa fa-clock-o d-inline-block ml-1" aria-hidden="true"></span> | <span class="user-limit">{{ count }}</span><span class="fa fa-check d-inline-block ml-1" aria-hidden="true"></span></div>
                            </div>
                            <h3>{{ card.recto }}</h3>
                            <div class="tag-container"> 
                                {% for tag in card.tags %}
                                    <div class="d-inline-block tag-user">{{ tag.name }}</div>
                                {% endfor %}
                            </div>
                            <button type="button" id="btn-answer" class="btn btn-info mt-5">Voir la réponse</button>
                            
                            <div id="verso-container">
                                <hr>
                                <div>{{ card.verso }}</div>
                                <div class="card-form mt-5">
                                    {{ form_start(formCard, {'attr': {'id': 'form-card' }}) }}

                                    <input type="hidden" name="card-id" value="{{ card.id }}">

                                    {{ form_end(formCard) }}
                                </div>
                            </div>
                        </article>
                    </div>
                    {% set isFirst = false %} 
                {% endif %}
            {% endfor %}
        </div>

    {% endif %}

    {% block javascripts %}
        <script src="{{ asset('js/home.js') }}"></script>
    {% endblock %}

{% endblock %}
